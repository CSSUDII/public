(this["webpackJsonpreact-backend"]=this["webpackJsonpreact-backend"]||[]).push([[0],{10:function(e,a,t){e.exports={container:"Register_container__zq2jF",registrationFormContainer:"Register_registrationFormContainer__1GdV5",registrationFormLegend:"Register_registrationFormLegend__3K-hM",errorMessage:"Register_errorMessage__2ms82"}},12:function(e,a,t){e.exports={container:"Login_container__2d8k8",loginFormContainer:"Login_loginFormContainer__1Xh_5",loginFormLegend:"Login_loginFormLegend__1x_Ru",errorMessage:"Login_errorMessage__1OCkv"}},23:function(e,a,t){e.exports=t(36)},29:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(21),s=t.n(l);t(28),t(29),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(1),c=t(8),m=t(4),i=t(12),d=t.n(i),u=t(15),g={baseUrl:"https://cssudii.tunnelto.dev/v1"},p=function(){var e=Object(u.a)(),a=e.register,t=e.handleSubmit,l=e.errors,s=Object(n.useState)(),i=Object(m.a)(s,2),p=i[0],E=i[1],b=Object(o.g)();return r.a.createElement("div",{className:"".concat(d.a.container," container-fluid d-flex align-items-center justify-content-center")},r.a.createElement("div",{className:d.a.loginFormContainer},p&&r.a.createElement("div",{className:"alert fade show d-flex ".concat(p.type),role:"alert"},p.data,r.a.createElement("span",{"aria-hidden":"true",className:"ml-auto cursor-pointer",onClick:function(){return E(null)}},"\xd7")),r.a.createElement("fieldset",{className:"border p-3 rounded"},r.a.createElement("legend",{className:"".concat(d.a.loginFormLegend," border rounded p-1 text-center")},"Login Form"),r.a.createElement("form",{onSubmit:t((function(e,a){E({data:"Login is in progress...",type:"alert-warning"}),fetch("".concat(g.baseUrl,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e,t){E({data:t||"Logged in successfully, redirecting...",type:t?"alert-danger":"alert-success"}),!t&&localStorage.setItem("token",e.token),console.log("Your TOKEN: "+e.token),b.push("/dashboard"),!t&&a.target.reset()}))})),noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputForEmail"},"Email address"),r.a.createElement("span",{className:"mandatory"},"*"),r.a.createElement("input",{id:"inputForEmail",name:"email",type:"email",className:"form-control","aria-describedby":"Enter email address",placeholder:"Enter email address",ref:a({required:{value:!0,message:"Please enter your email address"}})}),l.email&&r.a.createElement("span",{className:"".concat(d.a.errorMessage," mandatory")},l.email.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputForPassword"},"Password"),r.a.createElement("span",{className:"mandatory"},"*"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"inputForPassword",placeholder:"Enter password",ref:a({required:{value:!0,message:"Please enter password"}})}),l.password&&r.a.createElement("span",{className:"".concat(d.a.errorMessage," mandatory")},l.password.message)),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Login"),r.a.createElement("button",{className:"btn btn-link ml-auto"},r.a.createElement(c.b,{to:"/register"},"New User")))))))},E=t(10),b=t.n(E),v=function(){var e=Object(u.a)(),a=e.register,t=e.handleSubmit,l=e.errors,s=Object(n.useState)(),o=Object(m.a)(s,2),i=o[0],d=o[1];return r.a.createElement("div",{className:"".concat(b.a.container," container-fluid d-flex align-items-center justify-content-center")},r.a.createElement("div",{className:b.a.registrationFormContainer},i&&r.a.createElement("div",{className:"alert fade show d-flex ".concat(i.type),role:"alert"},i.data,r.a.createElement("span",{"aria-hidden":"true",className:"ml-auto cursor-pointer",onClick:function(){return d(null)}},"\xd7")),r.a.createElement("fieldset",{className:"border p-3 rounded"},r.a.createElement("legend",{className:"".concat(b.a.registrationFormLegend," border rounded p-1 text-center")},"Registration Form"),r.a.createElement("form",{onSubmit:t((function(e,a){d({data:"Registration is in progress...",type:"alert-warning"}),fetch("".concat(g.baseUrl,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){var t="error"in e&&null!=e.error;d({data:t?e.error:"Registered successfully",type:t?"alert-danger":"alert-success"}),!t&&a.target.reset()}))})),noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputForEmail"},"Email address"),r.a.createElement("span",{className:"mandatory"},"*"),r.a.createElement("input",{id:"inputForEmail",name:"email",type:"email",className:"form-control","aria-describedby":"Enter email address",placeholder:"Enter email address",ref:a({required:{value:!0,message:"Please enter your email address"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Enter a valid email address"},minLength:{value:6,message:"Minimum 6 characters are allowed"},maxLength:{value:255,message:"Maximum 255 characters are allowed"}})}),l.email&&r.a.createElement("span",{className:"".concat(b.a.errorMessage," mandatory")},l.email.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputForName"},"Your Name"),r.a.createElement("span",{className:"mandatory"},"*"),r.a.createElement("input",{id:"inputForName",name:"name",type:"text",className:"form-control","aria-describedby":"Enter your name",placeholder:"Enter your name",ref:a({required:{value:!0,message:"Please enter your name"},minLength:{value:6,message:"Minimum 6 characters are allowed"},maxLength:{value:255,message:"Maximum 255 characters are allowed"}})}),l.name&&r.a.createElement("span",{className:"".concat(b.a.errorMessage," mandatory")},l.name.message)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputForPassword"},"Password"),r.a.createElement("span",{className:"mandatory"},"*"),r.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"inputForPassword",placeholder:"Enter password",ref:a({required:{value:!0,message:"Please enter password"},minLength:{value:6,message:"Minimum 6 characters are allowed"},maxLength:{value:255,message:"Maximum 255 characters are allowed"}})}),l.password&&r.a.createElement("span",{className:"".concat(b.a.errorMessage," mandatory")},l.password.message)),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary"},"Submit"),r.a.createElement("button",{className:"btn btn-link"},r.a.createElement(c.b,{to:"/login"},"Cancel")))))))},h=function(){var e=Object(n.useState)(null),a=Object(m.a)(e,2),t=a[0],l=a[1],s=Object(o.g)();return Object(n.useEffect)((function(){fetch("".concat(g.baseUrl,"/auth/me"),{method:"GET",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){var a=e.error,t=e.data;return a?s.push("/login"):l(t)}))}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"CSSUDII API"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/dashboard"},"Dashboard ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link cursor-pointer",onClick:function(){confirm("Are you sure to logout ?")&&(localStorage.clear(),s.push("/login"))}},"Logout"))),r.a.createElement("span",{className:"navbar-text"},"Welcome, ",null===t||void 0===t?void 0:t._id))),r.a.createElement("div",{className:"px-3"},r.a.createElement("h1",null,"Test: ",null===t||void 0===t?void 0:t.title),r.a.createElement("p",null,null===t||void 0===t?void 0:t.content)))},f=function(){return r.a.createElement("h1",null,"Page Not Found Page")},N=function(){var e=Object(n.useState)(null),a=Object(m.a)(e,2),t=a[0],l=a[1],s=Object(o.g)();return Object(n.useEffect)((function(){fetch("".concat(g.baseUrl,"/auth/me"),{method:"GET",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){var a=e.error,t=e.data;return a?s.push("/login"):l(t)}))}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"CSSUDII API"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/dashboard"},"Dashboard ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link cursor-pointer",onClick:function(){confirm("Are you sure to logout ?")&&(localStorage.clear(),s.push("/login"))}},"Logout"))),r.a.createElement("span",{className:"navbar-text"},"Welcome, ",null===t||void 0===t?void 0:t._id))),r.a.createElement("div",{className:"px-3"},r.a.createElement("body",{class:"loggedin"},r.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.7.1/css/all.css"}),r.a.createElement("div",{class:"content"},r.a.createElement("h2",null,"Account Information"),r.a.createElement("div",null,r.a.createElement("p",null,"Your account details:"),r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Username:"),r.a.createElement("td",null,null===t||void 0===t?void 0:t.name)),r.a.createElement("tr",null),r.a.createElement("tr",null,r.a.createElement("td",null,"Email:"),r.a.createElement("td",null,null===t||void 0===t?void 0:t.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Account ID:"),r.a.createElement("td",null,null===t||void 0===t?void 0:t._id))))))))},y=function(e){return r.a.createElement(c.a,e,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/login"},r.a.createElement(p,null)),r.a.createElement(o.b,{path:"/register"},r.a.createElement(v,null)),r.a.createElement(o.b,{path:"/dashboard",render:(a=h,function(){return localStorage.getItem("token")?r.a.createElement(a,null):r.a.createElement(o.a,{to:"/login"})})}),r.a.createElement(o.b,{exact:!0,path:"/"},r.a.createElement(o.a,{to:"/dashboard"})),r.a.createElement(o.b,{path:"/profile"},r.a.createElement(N,null)),r.a.createElement(o.b,{path:"*"},r.a.createElement(f,null))));var a};s.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.fd3019c9.chunk.js.map